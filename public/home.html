<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Quest Or Drink</title>
    <link href="https://fonts.googleapis.com/css?family=Orbitron&display=swap" rel="stylesheet">
    <script type="text/javascript" src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js" ></script>	
    <script defer src="qr/qrcode.min.js"></script> 
    <script defer src="tools/formatting.js"></script> 
    <script defer src="lobby.js"></script>    
    <script defer src="initHome.js"></script>
    <script defer src="create_lobby.js"></script>
    <script defer src="friends.js"></script>
    <script defer src = "HTML_router.js"></script>
    <!-- development version, includes helpful console warnings -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- TODO: change to production version
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    -->
  </head>
  
  <body>
    <script>
      window.fbAsyncInit = function() {
        FB.init({
          appId            : '313548656427392',
          autoLogAppEvents : true,
          xfbml            : true,
          version          : 'v7.0'
        });

          function login()
          {
            FB.login(function(response) { 
              if (response.status === 'connected') {
                setupFB();
              } else {
                  alert("Failed to connect to Facebook")
              }
            },{scope:'email,user_friends'});
          }

        function statusChangeCallback(response){ 
            console.log('statusChangeCallback');
            console.log(response);                   
            if (response.status === 'connected')
            {   
              setupFB();  
            } 
            else{                                
              login();
              }
            }

          FB.getLoginStatus(function(response) {
            statusChangeCallback(response);
          });
      };
    </script>

    <!--Following script is for choosing user language for the SDK. FB-plugin language will be using the language defined here-->
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>

    <div id = "page">

      <header id = "header" v-cloak>
        <h1 class="text-center">Quest Or Drink</h1>
        <div id = "profile">
          <img v-bind:src="profile_src" id = "profile-pic"> <h4 id = "name">{{name}}</h4>
        </div>
      </header>

      <button id = "button-start" class = "button-start">Start Party!</button>
      <button id = "button-join" class = "button-start">Join party!</button>

    </div>

        <footer id = "footer_menu">
          <ul>
            <li id = "footer_menu_home">Home</li>
            <li id = "footer_menu_profile">Profile</li>
            <li id = "footer_menu_wall">Wall</li>
            <li id = "footer_menu_friends">Friends</li>
            <li id = "footer_menu_expansions">Expansions</li>
          </ul>
        </footer>

      <script defer src="/__/firebase/7.15.5/firebase-app.js"></script>
      <script defer src="/__/firebase/7.15.5/firebase-auth.js"></script>
      <script defer src="/__/firebase/7.15.5/firebase-database.js"></script>
      <script defer src="/__/firebase/7.15.5/firebase-messaging.js"></script>
      <script defer src="/__/firebase/7.15.5/firebase-storage.js"></script>
      <script defer src="/__/firebase/init.js"></script>

    <style>
      [v-cloak] > * { display:none }
      [v-cloak]::before { content: "loadingâ€¦" }
      html
      {
        padding: 0;
        margin:0;
      }
      body
      {
        padding: 0;
        margin:0;
        height: 100%;
        width: 100%;
        position: fixed;
        background-color:black;
      }
      #page
      {
        height:100%;
        width: 100%;
        margin-top:0;
      }
      h1,h2,h3,h4,h5
      {
        font-family: 'Orbitron', bold;
        color: #f2f24b;
      }
      .text-center
      {
        text-align: center;
      }
      #name
      {
        line-height: 10vw;
      }
      #profile
      {
        width: 100vw;
        margin-left:5vw;
        margin-top:10vh;
        margin-bottom: 20vh;
      }
      #profile-item
      {
        width: 100vw;
        margin-left:5vw;
      }
      #profile-pic
      {
        align-items:center;
        border-radius: 5em;
        margin-right: 5vw;
        width: 10vw;
        height:10vw;
        float:left;
      }
      #footer_menu
      {
        display: inline;
        position: fixed;
        bottom:8vh;
      }
      #footer_menu li
      {
        margin-left: 2vw;
        font-family: 'Orbitron', bold;
        color: #f2f24b;
        display: inline;
      }
      .button-start
      {
        color:#f2f24b;
        background-color: green;
        font-family: 'Orbitron', bold;
        margin: 5vh auto;
        display: block;
        font-size: 1.5em;
        text-align: center;
        padding:3vw;
        border:none;
      }
    </style>
  </body>
</html>
